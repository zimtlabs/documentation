{
  "components": {

    "schemas": {
      "query-organization": {
        "type": "object",
        "properties": {
          "query": {
            "type": "object",
            "properties": {
              "organizations": {
                "type": "array",
                "items": {
                  "$ref": "base.json#/components/schemas/query-operator"
                },
                "minItems": 0
              }
            }
          },
          "limit": {
            "$ref": "base.json#/components/schemas/limit"
          },
          "next": {
            "$ref": "base.json#/components/schemas/cursor"
          },
          "previous": {
            "$ref": "base.json#/components/schemas/cursor"
          }
        }
      },
      "query-organization-apps": {
        "type": "object",
        "properties": {
          "query": {
            "type": "object",
            "properties": {
              "organizationApps": {
                "type": "array",
                "items": {
                  "$ref": "base.json#/components/schemas/query-operator"
                },
                "minItems": 0
              }
            }
          },
          "limit": {
            "$ref": "base.json#/components/schemas/limit"
          },
          "next": {
            "$ref": "base.json#/components/schemas/cursor"
          },
          "previous": {
            "$ref": "base.json#/components/schemas/cursor"
          }
        }
      },
      "Organization-data-settings-branding": {
        "type": "object",
        "properties": {
          "logo": {
            "type": "object",
            "properties": {
              "dark": {
                "$ref": "base.json#/components/schemas/document"
              },
              "light": {
                "$ref": "base.json#/components/schemas/document"
              },
              "symbol": {
                "$ref": "base.json#/components/schemas/document"
              }
            },
            "additionalProperties": false
          },
          "colors": {
            "type": "object",
            "properties": {
              "primary": {
                "type": "string"
              },
              "secondary": {
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false
      },
      "Organization-data-settings": {
        "type": "object",
        "properties": {
          "time_zone": {
            "type": "string"
          },
          "legal_address": {
            "type": "string"
          },
          "branding": {
            "$ref": "#/components/schemas/Organization-data-settings-branding"
          }
        }
      },
      "Organization-data": {
        "type": "object",
        "properties": {
          "owner": {
            "$ref": "base.json#/components/schemas/id"
          },
          "name": {
            "type": "string"
          },
          "settings": {
            "$ref": "#/components/schemas/Organization-data-settings"
          },
          "active": {
            "type": "boolean"
          }
        }
      },
      "Organization-App-data": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "active": {
            "type": "boolean"
          },
          "app": {
            "type": "string"
          }
        }
      },
      "Organization-Create-data": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name"
        ]
      },
      "Organization-Create": {
        "type": "object",
        "properties": {
          "organization": {
            "$ref": "#/components/schemas/Organization-Create-data"
          },
          "account": {
            "$ref": "accounts.json#/components/schemas/Account-Create-data"
          }
        },
        "required": [
          "organization",
          "account"
        ]
      },
      "Organization-Create-Account": {
        "type": "object",
        "properties": {
          "object": {
            "$ref": "base.json#/components/schemas/object-simple"
          },
          "data": {
            "$ref": "accounts.json#/components/schemas/Account-Create-data"
          }
        },
        "required": [
          "object",
          "data"
        ]
      },
      "Organization-Signup": {
        "type": "object",
        "properties": {
          "account": {
            "$ref": "accounts.json#/components/schemas/Account-Create-data"
          }
        },
        "required": [
          "account"
        ]
      },
      "OrganizationPublicDetails": {
        "type": "object",
        "properties": {
          "data": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "settings": {
                "type": "object",
                "properties": {
                  "branding": {
                    "$ref": "#/components/schemas/Organization-data-settings-branding"
                  }
                }
              }
            }
          },
          "receipt": {
            "$ref": "base.json#/components/schemas/receipt"
          }
        },
        "required": [
          "id",
          "meta",
          "signature",
          "data",
          "receipt"
        ],
        "additionalProperties": false
      },
      "Organization": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "base.json#/components/schemas/id"
          },
          "meta": {
            "$ref": "base.json#/components/schemas/object-meta-simple"
          },
          "signature": {
            "$ref": "base.json#/components/schemas/signature"
          },
          "data": {
            "$ref": "#/components/schemas/Organization-data"
          },
          "receipt": {
            "$ref": "base.json#/components/schemas/receipt"
          }
        },
        "required": [
          "id",
          "meta",
          "signature",
          "data",
          "receipt"
        ],
        "additionalProperties": false
      },
      "OrganizationApp": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "base.json#/components/schemas/id"
          },
          "meta": {
            "$ref": "base.json#/components/schemas/object-meta-simple"
          },
          "signature": {
            "$ref": "base.json#/components/schemas/signature"
          },
          "data": {
            "$ref": "#/components/schemas/Organization-App-data"
          },
          "receipt": {
            "$ref": "base.json#/components/schemas/receipt"
          }
        },
        "required": [
          "id",
          "meta",
          "signature",
          "data",
          "receipt"
        ],
        "additionalProperties": false
      },
      "Organization-update": {
        "type": "object",
        "properties": {
          "data": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false,
        "required": [
          "data"
        ]
      },
      "Organization-App-update": {
        "type": "object",
        "properties": {
          "data": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "active": {
                "type": "boolean"
              }
            },
            "additionalProperties": false
          }
        },
        "additionalProperties": false,
        "required": [
          "data"
        ]
      },
      "Organizations": {
        "type": "object",
        "properties": {
          "response": {
            "type": "array",
            "minItems": 0,
            "maxItems": 50,
            "items": {
              "$ref": "#/components/schemas/Organization"
            }
          },
          "meta": {
            "$ref": "base.json#/components/schemas/meta-response"
          },
          "pagination": {
            "$ref": "base.json#/components/schemas/pagination-response"
          }
        }
      },
      "OrganizationApps": {
        "type": "object",
        "properties": {
          "response": {
            "type": "array",
            "minItems": 0,
            "maxItems": 50,
            "items": {
              "$ref": "#/components/schemas/OrganizationApp"
            }
          },
          "meta": {
            "$ref": "base.json#/components/schemas/meta-response"
          },
          "pagination": {
            "$ref": "base.json#/components/schemas/pagination-response"
          }
        }
      }

    },

    "examples": {

      "query-organization": {
        "query": {
          "organizations": [{
            "field": "data.name",
            "operator": "starts-with",
            "value": "My Org"
          }]
        },
        "limit": 45,
        "next": "eyIkb2lkIjoiNTgwZmQxNmFjYTJhNmIyNzE1NjJkOGJhIn0"
      },
      "query-organization-apps": {
        "query": {
          "organizationApps": [{
            "field": "data.name",
            "operator": "starts-with",
            "value": "Organization app"
          }]
        },
        "limit": 45,
        "next": "eyIkb2lkIjoiNTgwZmQxNmFjYTJhNmIyNzE1NjJkOGJhIn0"
      },
      "OrganizationPublicDetails": {
        "response": {
          "data": {
            "name": "My organization",
            "settings": {
              "time_zone": "Europe/London",
              "branding": {
                "logo": {},
                "colors": {}
              }
            }
          },
          "receipt": {
            "received_at": 1579967810000
          }
        },
        "meta": {
          "code": 200,
          "message": "Ok"
        }
      },
      "Organization": {
        "response": {
          "id": "0x1512258c1a082a1148e655cf4abf13b914e31e7e485191c2b6b5ee466e03c951",
          "meta": {
            "created_by": "0x678b3c5090B25b3a63120CF0218750886e37A96E"
          },
          "data": {
            "name": "My organization",
            "owner": "0x627969CD9Ef88bA7e61694947020540d7eD0001d",
            "settings": {
              "time_zone": "Europe/London"
            },
            "active": true
          },
          "signature": "0xed4f59dbd23ac9ea359f3b9215eca3ceb34e08e29b1f704fa198468cae08f9f0016e...",
          "receipt": {
            "received_at": 1579967810000
          }
        },
        "meta": {
          "code": 200,
          "message": "Ok"
        }
      },
      "Organization-update": {
        "data": {
          "name": "My organization"
        }
      },
      "Organization-App-update": {
        "data": {
          "name": "My organization app"
        }
      },
      "Organization-Create": {
        "organization": {
          "name": "Johns Organization"
        },
        "account": {
          "full_name": "John Doe",
          "email": "john@gmail.com",
          "address": "0x4DC2f66Ea6f7Cd898342378e514cBDAD9dE5CC1B",
          "security": {
            "token": "a4123asuiasy4uay3iaisyu3oiasu3iaous34"
          }
        }
      },
      "Organization-Create-Account": {
        "object": {
          "meta": {
            "created_by": "0x678b3c5090B25b3a63120CF0218750886e37A96E"
          },
          "signature": "0xed4f59dbd23ac9ea359f3b9215eca3ceb34e08e29b1f704fa198468cae08f9f0016e..."
        },
        "data": {
          "full_name": "John Doe",
          "email": "john@gmail.com",
          "address": "0x4DC2f66Ea6f7Cd898342378e514cBDAD9dE5CC1B",
          "security": {
            "token": "a4123asuiasy4uay3iaisyu3oiasu3iaous34"
          },
          "active": true
        }
      },
      "Organization-Signup": {
        "account": {
          "full_name": "John Doe",
          "email": "john@gmail.com",
          "address": "0x4DC2f66Ea6f7Cd898342378e514cBDAD9dE5CC1B",
          "security": {
            "token": "a4123asuiasy4uay3iaisyu3oiasu3iaous34"
          }
        }
      },
      "Organizations": {
        "response": [{
          "id": "0x1512258c1a082a1148e655cf4abf13b914e31e7e485191c2b6b5ee466e03c951",
          "meta": {
            "created_by": "0x678b3c5090B25b3a63120CF0218750886e37A96E"
          },
          "data": {
            "name": "My organization",
            "owner": "0x627969CD9Ef88bA7e61694947020540d7eD0001d",
            "settings": {
              "time_zone": "Europe/London"
            },
            "active": true
          },
          "signature": "0xed4f59dbd23ac9ea359f3b9215eca3ceb34e08e29b1f704fa198468cae08f9f0016e...",
          "receipt": {
            "received_at": 1579967810000
          }
        }],
        "meta": {
          "code": 200,
          "message": "Ok"
        },
        "pagination": {
          "hasNext": true,
          "next": "eyIkb2lkIjoiNTgwZmQxNmFjYTJhNmIyNzE1NjJkOGJhIn0",
          "hasPrevious": true,
          "previous": "eyIkb2lkIjoiNTgwZmQxNmFjYTJhNmIyNzE1NjJkOGI5In0"
        }
      },
      "OrganizationApp": {
        "response": {
          "id": "0x1512258c1a082a1148e655cf4abf13b914e31e7e485191c2b6b5ee466e03c951",
          "meta": {
            "created_by": "0x678b3c5090B25b3a63120CF0218750886e37A96E"
          },
          "data": {
            "name": "Organization app",
            "active": true,
            "app": "0x1512258c1a082a1148e655cf4abf13b914e31e7e485191c2b6b5ee466e03c951"
          },
          "signature": "0xed4f59dbd23ac9ea359f3b9215eca3ceb34e08e29b1f704fa198468cae08f9f0016e...",
          "receipt": {
            "received_at": 1579967810000
          }
        },
        "meta": {
          "code": 200,
          "message": "Ok"
        }
      },
      "OrganizationApps": {
        "response": [{
          "id": "0x1512258c1a082a1148e655cf4abf13b914e31e7e485191c2b6b5ee466e03c951",
          "meta": {
            "created_by": "0x678b3c5090B25b3a63120CF0218750886e37A96E"
          },
          "data": {
            "name": "Organization app",
            "active": true,
            "app": "0x1512258c1a082a1148e655cf4abf13b914e31e7e485191c2b6b5ee466e03c951"
          },
          "signature": "0xed4f59dbd23ac9ea359f3b9215eca3ceb34e08e29b1f704fa198468cae08f9f0016e...",
          "receipt": {
            "received_at": 1579967810000
          }
        }],
        "meta": {
          "code": 200,
          "message": "Ok"
        },
        "pagination": {
          "hasNext": true,
          "next": "eyIkb2lkIjoiNTgwZmQxNmFjYTJhNmIyNzE1NjJkOGJhIn0",
          "hasPrevious": true,
          "previous": "eyIkb2lkIjoiNTgwZmQxNmFjYTJhNmIyNzE1NjJkOGI5In0"
        }
      }

    },

    "parameters": {

      "id-organization": {
        "name": "id",
        "description": "ID of an organization",
        "in": "path",
        "schema": {
          "$ref": "base.json#/components/schemas/id"
        }
      },
      "id-organization-app": {
        "name": "Organization app ID",
        "description": "ID of an organization app",
        "in": "path",
        "schema": {
          "$ref": "base.json#/components/schemas/id"
        }
      }

    },

    "responses": {

      "OrganizationPublicDetails": {
        "description": "Organization public details result",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/OrganizationPublicDetails"
            },
            "example": {
              "$ref": "#/components/examples/OrganizationPublicDetails"
            }
          }
        }
      },
      "Organization": {
        "description": "Organization result",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Organization"
            },
            "example": {
              "$ref": "#/components/examples/Organization"
            }
          }
        }
      },
      "Organizations": {
        "description": "Organization results",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Organizations"
            },
            "example": {
              "$ref": "#/components/examples/Organizations"
            }
          }
        }
      },

      "OrganizationApp": {
        "description": "Organization app result",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/OrganizationApp"
            },
            "example": {
              "$ref": "#/components/examples/OrganizationApp"
            }
          }
        }
      },
      "OrganizationApps": {
        "description": "Organization app results",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/OrganizationApps"
            },
            "example": {
              "$ref": "#/components/examples/OrganizationApps"
            }
          }
        }
      }

    },

    "requestBodies": {

      "search-organization": {
        "description": "Search query",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/query-organization"
            },
            "example": {
              "$ref": "#/components/examples/query-organization"
            }
          }
        }
      },
      "search-organization-apps": {
        "description": "Search query",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/query-organization-apps"
            },
            "example": {
              "$ref": "#/components/examples/query-organization-apps"
            }
          }
        }
      },
      "Organization-App-update": {
        "description": "Organization app update",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Organization-App-update"
            },
            "example": {
              "$ref": "#/components/examples/Organization-App-update"
            }
          }
        }
      },
      "Organization-update": {
        "description": "Organization update",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Organization-update"
            },
            "example": {
              "$ref": "#/components/examples/Organization-update"
            }
          }
        }
      },
      "Organization-Create": {
        "description": "Organization create",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Organization-Create"
            },
            "example": {
              "$ref": "#/components/examples/Organization-Create"
            }
          }
        }
      },
      "Organization-Create-Account": {
        "description": "Organization create account",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Organization-Create-Account"
            },
            "example": {
              "$ref": "#/components/examples/Organization-Create-Account"
            }
          }
        }
      },
      "Organization-Signup": {
        "description": "Organization signup",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Organization-Signup"
            },
            "example": {
              "$ref": "#/components/examples/Organization-Signup"
            }
          }
        }
      }

    }

  }
}
